window.__require=function e(t,o,n){function r(a,c){if(!o[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var p="function"==typeof __require&&__require;if(!c&&p)return p(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=o[a]={exports:{}};t[a][0].call(l.exports,function(e){return r(t[a][1][e]||e)},l,l.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({Bomb:[function(e,t,o){"use strict";cc._RF.push(t,"0cb48PmfC5FsaGR0eRe5hUV","Bomb");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Bomb=void 0;var s=r("Gconfig"),p=cc._decorator,l=p.ccclass,u=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bomb=null,t}return a(t,e),t.prototype.onAddEvents=function(){},t.prototype.onRemoveEvents=function(){},t.prototype.onStart=function(){},t.prototype.onDestroyed=function(){},t.prototype.onBeginContact=function(e,t,o){if(-1!=["dog","magma"].indexOf(o.node.group)){var n=cc.instantiate(this.bomb);n.parent=this.node.parent,n.x=this.node.x,n.y=this.node.y,cc.systemEvent.emit(s.GameEvents.S_Play_Sound,s.GameSounds.S_Bomb),this.node.destroy(),cc.systemEvent.emit("BOMB_EVENT")}},c([u({type:cc.Prefab,tooltip:"\u7206\u70b8\u6548\u679c"})],t.prototype,"bomb",void 0),c([l],t)}(MonoBehavior);i.Bomb=d,cc._RF.pop()},{}],Bone:[function(e,t,o){"use strict";cc._RF.push(t,"52092+uClZGHofaEpLHjZ5x","Bone");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Bone=void 0;var s=r("GameDataCenter"),p=cc._decorator,l=p.ccclass,u=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemName="bone",t}return a(t,e),t.prototype.onAddEvents=function(){},t.prototype.onRemoveEvents=function(){},t.prototype.onStart=function(){for(;s.GameDataCenter.itemInLevel.has(this.itemName);)this.itemName+="0";s.GameDataCenter.itemInLevel.set(this.itemName,!1)},t.prototype.onDestroyed=function(){},t.prototype.onBeginContact=function(e,t,o){-1!=["dog"].indexOf(o.node.group)&&(this.node.destroy(),s.GameDataCenter.itemInLevel.set(this.itemName,!0))},c([l],t)}(MonoBehavior));i.Bone=u,cc._RF.pop()},{}],DogHead:[function(e,t,o){"use strict";cc._RF.push(t,"536b5vSn5RPmqYqlhpYcq/S","DogHead");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.DogHead=void 0;var s=r("Gconfig"),p=cc._decorator,l=p.ccclass,u=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateSprite=[],t.sprite=null,t.skeleton=null,t.smogEffect=null,t.stingCount=0,t.isDie=!1,t}return a(t,e),t.prototype.onEnabled=function(){},t.prototype.onAddEvents=function(){cc.systemEvent.on("BOMB_EVENT",this.bombEvent,this)},t.prototype.onRemoveEvents=function(){cc.systemEvent.off("BOMB_EVENT",this.bombEvent,this)},t.prototype.onStart=function(){this.stingCount=0,this.sprite.spriteFrame=null,this.skeleton.node.active=!0,this.skeleton.animation="idle"},t.prototype.onDestroyed=function(){},t.prototype.onBeginContact=function(e,t,o){if("honeyBee"===o.node.name)this.stingCount++,cc.systemEvent.emit(s.GameEvents.S_Play_Sound,s.GameSounds.S_Stab),1==this.stingCount&&(this.skeleton.node.active=!1,this.sprite.spriteFrame=this.stateSprite[0],cc.systemEvent.emit(s.GameEvents.M_Game_Over,!1)),this.stingCount>=5&&(this.sprite.spriteFrame=this.stateSprite[1]);else if(["magma","hedgehog"].includes(o.node.name))cc.systemEvent.emit(s.GameEvents.S_Play_Sound,s.GameSounds.S_Disappear),this.node.active=!1,(n=cc.instantiate(this.smogEffect)).x=this.node.x,n.y=this.node.y,n.parent=this.node.parent,cc.systemEvent.emit(s.GameEvents.M_Game_Over,!1);else if(!this.isDie&&["coneNail","flagstone","shot"].includes(o.node.name)){var n;this.isDie=!0,cc.systemEvent.emit(s.GameEvents.S_Play_Sound,s.GameSounds.S_Disappear),this.skeleton.animation="idle3",(n=cc.instantiate(this.smogEffect)).x=this.node.x,n.y=this.node.y,n.parent=this.node.parent,cc.systemEvent.emit(s.GameEvents.M_Game_Over,!1)}else"dieLine"===o.node.name&&(cc.systemEvent.emit(s.GameEvents.S_Play_Sound,s.GameSounds.S_Disappear),cc.systemEvent.emit(s.GameEvents.M_Game_Over,!1))},t.prototype.bombEvent=function(){var e=cc.instantiate(this.smogEffect);e.x=this.node.x,e.y=this.node.y,e.parent=this.node.parent,cc.systemEvent.emit(s.GameEvents.M_Game_Over,!1),this.node.active=!1},c([u({type:cc.SpriteFrame,tooltip:"\u72b6\u6001\u56fe\u7247"})],t.prototype,"stateSprite",void 0),c([u({type:cc.Sprite,tooltip:"\u7cbe\u7075\u7ec4\u4ef6"})],t.prototype,"sprite",void 0),c([u({type:sp.Skeleton,tooltip:"spine\u52a8\u753b"})],t.prototype,"skeleton",void 0),c([u({type:cc.Prefab,tooltip:"\u70df\u96fe\u7279\u6548"})],t.prototype,"smogEffect",void 0),c([l],t)}(MonoBehavior);i.DogHead=d,cc._RF.pop()},{}],DrawGraphics:[function(e,t,o){"use strict";cc._RF.push(t,"b3dffXv6C5O9qhCparKDoex","DrawGraphics");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.DrawGraphics=void 0;var s=r("GameConfig"),p=r("Gconfig"),l=r("LevelMgr"),u=cc._decorator,d=u.ccclass,y=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDev=!1,t.isDraw=!0,t.isDrawEnd=!1,t.isCreateLineNode=!1,t.lineNode=null,t.drawStartPoint=null,t.touchPointArr=[],t.moveArr=[],t.unableDrawPolygonArr=[],t}return a(t,e),t.prototype.onLoaded=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,0),this.isDev&&(cc.director.getPhysicsManager().debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit)},t.prototype.onStart=function(){this.isDrawEnd=!1;for(var e=0;e<l.LevelMgr.unableDrawNodes.length;e++){for(var t=[],o=l.LevelMgr.unableDrawNodes[e].getComponent(cc.PhysicsPolygonCollider).points,n=0;n<o.length;n++){o[n]=this.conversionPoint(o[n],l.LevelMgr.unableDrawNodes[e]);var r=cc.v2(l.LevelMgr.unableDrawNodes[e].x+o[n].x,l.LevelMgr.unableDrawNodes[e].y+o[n].y);t.push(r)}if(this.isDev){for(var i=0;i<t.length;++i)this.drawLine(t[i],0==i?"touchstart":"");this.drawLine(t[0],"")}this.drawStartPoint=null,this.unableDrawPolygonArr.push(t)}},t.prototype.conversionPoint=function(e,t){var o=e;return o.x*=t.scaleX,o.y*=t.scaleY,t.angle&&((o=cc.v2(o).add(cc.v2(o).rotate(t.angle/90*Math.PI))).x*=.5,o.y*=.5),o},t.prototype.onTouchStart=function(e){var t=l.LevelMgr.curLevelNode.convertToNodeSpaceAR(e.getLocation());this.isDrawEnd||(this.isDraw=!0);for(var o=0;o<this.unableDrawPolygonArr.length;o++)cc.Intersection.pointInPolygon(t,this.unableDrawPolygonArr[o])&&(this.isDraw=!1);if(this.isDraw){var n=this.node.convertToNodeSpaceAR(e.getLocation());this.drawLine(n,e.type)}},t.prototype.onTouchMoved=function(e){for(var t=this.node.convertToNodeSpaceAR(e.getLocation()),o=l.LevelMgr.curLevelNode.convertToNodeSpaceAR(e.getLocation()),n=!1,r=0;r<this.unableDrawPolygonArr.length;r++)cc.Intersection.pointInPolygon(o,this.unableDrawPolygonArr[r])&&(this.isDraw=!1,n=!0);n||this.drawStartPoint&&this.v2Distance(this.drawStartPoint,t)<20&&(this.isDraw=!0),this.isDraw&&this.drawLine(t,e.type)},t.prototype.onTouchEnded=function(){this.drawLineEnd()},t.prototype.onTouchCancelled=function(){this.drawLineEnd()},t.prototype.drawLine=function(e,t){this.isCreateLineNode||(this.isCreateLineNode=!0,this.lineNode=new cc.Node,this.lineNode.name="line",this.lineNode.group="line",this.lineNode.parent=this.node,this.touchPointArr=[]);var o=this.lineNode.getComponent(cc.Graphics)||this.lineNode.addComponent(cc.Graphics);if(o.strokeColor=cc.color(0,0,0,255),o.lineWidth=s.GameConfig.serverConfig.SWITCH_LINE_WIDTH,this.touchPointArr.push(e),"touchstart"==t)this.drawStartPoint=e,o.circle(e.x,e.y,o.lineWidth/2),o.circle(e.x+5,e.y+5,o.lineWidth/2),this.touchPointArr.push(cc.v2(e.x+5,e.y+5));else{if(this.drawStartPoint)for(var n=e.sub(this.drawStartPoint).mag(),r=o.lineWidth/4,i=1;i<n/r;i++){var a=e.x+i*(this.drawStartPoint.x-e.x)/(n/r),c=e.y+i*(this.drawStartPoint.y-e.y)/(n/r);o.circle(a,c,o.lineWidth/2)}this.drawStartPoint=e,o.circle(e.x,e.y,o.lineWidth/2)}o.stroke()},t.prototype.drawLineEnd=function(){if(!this.isDrawEnd&&this.lineNode){this.isDrawEnd=!0;var e=this.lineNode.getComponent("SelfPhysicsCollider")||this.lineNode.addComponent("SelfPhysicsCollider");e.points=this.touchPointArr,e.density=.8,e.friction=.5,e.restitution=.5,e.apply();var t=this.lineNode.getComponent(cc.RigidBody)||this.lineNode.addComponent(cc.RigidBody);t.awakeOnLoad=!0,t.type=cc.RigidBodyType.Dynamic,t.gravityScale=2,console.log("\u89e6\u6478\u7ed3\u675f"),this.isDraw=!1,this.drawStartPoint=null,cc.director.getPhysicsManager().gravity=cc.v2(0,-150),cc.systemEvent.emit(p.GameEvents.M_Show_HonerBee),cc.systemEvent.emit(p.GameEvents.M_Show_CountDown),cc.systemEvent.emit(p.GameEvents.M_Hide_Forbidden_Block),cc.systemEvent.emit(p.GameEvents.M_Start_Game)}},t.prototype.v2Distance=function(e,t){var o=Math.pow(e.x-t.x,2),n=Math.pow(e.y-t.y,2);return Math.pow(o+n,.5)},c([d],t)}(MonoBehavior));i.DrawGraphics=y,cc._RF.pop()},{}],FemaleDog:[function(e,t,o){"use strict";cc._RF.push(t,"539d4Es+xhKJIpuPrOIPodC","FemaleDog");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.FemaleDog=void 0;var s=r("GameDataCenter"),p=r("Gconfig"),l=cc._decorator,u=l.ccclass,d=l.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t.flagKey="",t}return a(t,e),t.prototype.onLoaded=function(){this.flagKey=this.node.name+s.GameDataCenter.itemInLevel.size,this.skeleton.animation="idle",s.GameDataCenter.itemInLevel.set(this.flagKey,!1)},t.prototype.onBeginContact=function(e,t,o){["dogHead"].includes(o.node.name)&&(this.skeleton.animation="Takelove",s.GameDataCenter.itemInLevel.set(this.flagKey,!0))},t.prototype.onAddEvents=function(){cc.systemEvent.on(p.GameEvents.M_Game_Over,this.failAnimation,this)},t.prototype.onRemoveEvents=function(){cc.systemEvent.off(p.GameEvents.M_Game_Over,this.failAnimation,this)},t.prototype.failAnimation=function(e){e||(this.skeleton.animation="tears")},c([d({type:sp.Skeleton,tooltip:" \u9aa8\u9abc\u52a8\u753b "})],t.prototype,"skeleton",void 0),c([u],t)}(MonoBehavior);i.FemaleDog=y,cc._RF.pop()},{}],Flagstone:[function(e,t,o){"use strict";cc._RF.push(t,"a92ba6AR4JAappIm5HomVMM","Flagstone");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Flagstone=void 0;var s=r("Gconfig"),p=cc._decorator,l=p.ccclass,u=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linearVelocity=null,t.isStart=!1,t}return a(t,e),t.prototype.onAddEvents=function(){cc.systemEvent.on(s.GameEvents.M_Start_Game,this.startGameEvent,this)},t.prototype.onRemoveEvents=function(){cc.systemEvent.off(s.GameEvents.M_Start_Game,this.startGameEvent,this)},t.prototype.startGameEvent=function(){this.isStart=!0},t.prototype.onUpdate=function(){this.isStart&&(this.node.getComponent(cc.RigidBody).linearVelocity=this.linearVelocity)},c([u({tooltip:"\u7ebf\u6027\u901f\u5ea6"})],t.prototype,"linearVelocity",void 0),c([l],t)}(MonoBehavior);i.Flagstone=d,cc._RF.pop()},{}],ForbiddenBlock:[function(e,t,o){"use strict";cc._RF.push(t,"06ec4Bs5CdFJoh6sN3mq5ox","ForbiddenBlock");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.ForbiddenBlock=void 0;var s=r("Gconfig"),p=cc._decorator,l=p.ccclass,u=(p.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onAddEvents=function(){this.registerEvent(s.GameEvents.M_Hide_Forbidden_Block,this.hideSelf,this)},t.prototype.onRemoveEvents=function(){},t.prototype.onStart=function(){},t.prototype.onDestroyed=function(){},t.prototype.hideSelf=function(){this.node.active=!1},c([l],t)}(MonoBehavior));i.ForbiddenBlock=u,cc._RF.pop()},{}],GamePanel:[function(e,t,o){"use strict";cc._RF.push(t,"54eaaZ2GlpG0YipM3CueoFt","GamePanel");var n,r=e("../../ymtScripts/yomitoo/tools/PlatformAdManager").PlatformAdManager,i=e,a=o,c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),s=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(a,"__esModule",{value:!0}),a.GamePanel=void 0;var p=i("GameDataCenter"),l=i("Gconfig"),u=i("GGAnalysis"),d=i("GGDevice"),y=i("GGGameManager"),f=i("GGI18nManager"),h=i("UIManager"),v=i("UIManagerMachine"),m=cc._decorator,g=m.ccclass,_=m.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelName=null,t.countDownLab=null,t.tickNode=[],t.tipsTip=[],t.skipTip=null,t.totalTime=10,t.countDown=10,t.countDownNunber=0,t.isCountDown=!1,t.isGameOver=!1,t.videoType="",t}var o;return c(t,e),o=t,t.prototype.onEnabled=function(){u.GGAnalysis.sendUserEvent("\u8fdb\u5165\u6e38\u620f\u9875"),h.UIManager.curPanelName="\u6e38\u620f\u9875",this.updateTip(),this.updateTipsTip(),p.GameDataCenter.bannerAd.hide(),this.scheduleOnce(function(){p.GameDataCenter.bannerAd.hide()},1)},t.prototype.onDisabled=function(){cc.systemEvent.emit(l.GameEvents.S_Stop_Sound,l.GameSounds.S_Bee)},t.prototype.onAddEvents=function(){this.registerEvent("GAME_WIN",this.showResultPanel,this),this.registerEvent(l.GameEvents.M_Show_CountDown,this.gameCountDown,this),this.registerEvent(l.GameEvents.M_Game_Over,this.gameOver,this),this.registerEvent(l.GameEvents.S_Update_Data_Key,this.updateTip,this),this.registerEvent(l.GameEvents.S_Update_Tips_Tip,this.updateTipsTip,this)},t.prototype.onRemoveEvents=function(){},t.prototype.onLoaded=function(){},t.prototype.onStart=function(){"CHOOSE_LEVEL"===v.UIManagerMachine.instance.getBeforeStateName()?this.levelName.string=f.GGI18nManager.getString("\u5173\u5361").replace("-",p.GameDataCenter.levelIndex.toString()):this.levelName.string=f.GGI18nManager.getString("\u5173\u5361").replace("-",p.GameDataCenter.gameLevel.toString()),this.countDownLab.node.active=!1,this.countDownLab.string=""+this.totalTime,p.GameDataCenter.isStopCountDown=!1},t.prototype.onUpdate=function(e){if(this.isCountDown&&!p.GameDataCenter.isStopCountDown&&(this.countDownNunber+=e,this.countDownNunber>=1&&(this.countDownNunber=0,this.countDown--,this.countDownLab.string=""+this.countDown,this.countDown<=0))){this.isCountDown=!1;var t=!0;console.log(p.GameDataCenter.itemInLevel),p.GameDataCenter.itemInLevel.forEach(function(e){e||(t=!1)}),this.gameOver(t)}},t.prototype.onDestroyed=function(){},t.prototype.onClickBackBtn=function(){u.GGAnalysis.sendUITouchEvent("\u6e38\u620f\u9875_\u8fd4\u56de"),cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Btn_Click),v.UIManagerMachine.instance.onTransition("btnLevel")},t.prototype.onClickRefreshBtn=function(){u.GGAnalysis.sendUITouchEvent("\u6e38\u620f\u9875_\u91cd\u73a9"),cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Btn_Click),o.refreshGame()},t.prototype.onClickKeyBtn=function(){cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Btn_Click),p.GameDataCenter.isStopCountDown=!0,r.inst.showRewardedVideo(function(e){p.GameDataCenter.isStopCountDown=!1,e&&(p.GameDataCenter.isStopCountDown=!1,p.GameDataCenter.key++,d.GGDevice.showToast(f.GGI18nManager.getString("\u606d\u559c\u83b7\u5f97\u94a5\u5319x1")))})},t.prototype.onClickTipsBtn=function(){if(cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Btn_Click),p.GameDataCenter.isStopCountDown=!0,cc.director.getPhysicsManager().enabled=!1,-1==p.GameDataCenter.unlockTips.indexOf(p.GameDataCenter.levelIndex))if(p.GameDataCenter.key>=1)p.GameDataCenter.key--,h.UIManager.open("game/TipsPanel");else{if(cc.sys.isBrowser||gg.isH5)return void h.UIManager.open("game/TipsPanel");r.inst.showRewardedVideo(function(e){p.GameDataCenter.isStopCountDown=!1,cc.director.getPhysicsManager().enabled=!0,e&&h.UIManager.open("game/TipsPanel")})}else h.UIManager.open("game/TipsPanel")},t.prototype.onClickSkipBtn=function(){var e=this;cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Btn_Click),p.GameDataCenter.isStopCountDown=!0,cc.director.getPhysicsManager().enabled=!1,p.GameDataCenter.key>=2?h.UIManager.open("game/SkipPanel"):r.inst.showRewardedVideo(function(t){t&&(e.skipTip.active=!1,e.gameOver(!0,!0))})},t.prototype.onPullVideo=function(){p.GameDataCenter.rewardVideoAd.closeCallbacks=[],p.GameDataCenter.rewardVideoAd.closeCallbacks=[y.GGGameManager.getClickEvents(this.node,this.name,"videoCallback")],p.GameDataCenter.rewardVideoAd.errorCallbacks=[],p.GameDataCenter.rewardVideoAd.errorCallbacks=[y.GGGameManager.getClickEvents(this.node,this.name,"onVideoErr")],p.GameDataCenter.rewardVideoAd.showRewardVideoAd()},t.prototype.onVideoErr=function(){p.GameDataCenter.isStopCountDown=!1},t.prototype.gameCountDown=function(){this.countDownLab.node.active=!0,this.isCountDown=!0},t.prototype.gameOver=function(e,t){var o=this;if(!this.isGameOver){this.isGameOver=!0;var n=e;n?t?(this.capImage(),this.scheduleOnce(function(){o.showResultPanel()},.2)):this.showTick(n):this.scheduleOnce(function(){o.showTick(n)},1.5)}},t.prototype.showTick=function(e){var t=this;e?cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Game_True):cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Game_False,!1,!1,5);var n=e?this.tickNode[0]:this.tickNode[1];n.scale=0,n.active=!0,cc.tween(n).to(.2,{scale:1.5}).to(.2,{scale:1}).delay(.5).call(function(){e?(t.capImage(),t.scheduleOnce(function(){t.showResultPanel()},.2)):o.refreshGame()}).start()},t.refreshGame=function(){p.GameDataCenter.itemInLevel.clear(),v.UIManagerMachine.instance.onTransition("refreshGame")},t.prototype.showResultPanel=function(){cc.systemEvent.emit(l.GameEvents.S_Stop_Sound,l.GameSounds.S_Bee),cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Result_Success),p.GameDataCenter.gameState=l.GameState.GameOver,h.UIManager.open("result/ResultPanel")},t.prototype.updateTip=function(){p.GameDataCenter.key>=2?this.skipTip.active=!1:this.skipTip.active=!0,p.GameDataCenter.key>=1?(this.tipsTip[0].active=!1,this.tipsTip[1].active=!0):(this.tipsTip[0].active=!0,this.tipsTip[1].active=!1)},t.prototype.updateTipsTip=function(){-1==p.GameDataCenter.unlockTips.indexOf(p.GameDataCenter.levelIndex)?this.tipsTip[0].parent.active=!0:this.tipsTip[0].parent.active=!1},t.prototype.videoCallback=function(e){if(e)return p.GameDataCenter.isStopCountDown=!1,d.GGDevice.showToast(e.msg);switch(this.videoType){case"getKey":p.GameDataCenter.isStopCountDown=!1,p.GameDataCenter.key++,d.GGDevice.showToast(f.GGI18nManager.getString("\u606d\u559c\u83b7\u5f97\u94a5\u5319x1"));break;case"tips":h.UIManager.open("game/TipsPanel");break;case"skip":this.skipTip.active=!1,this.gameOver(!0,!0)}},t.prototype.capImage=function(){var e=new cc.RenderTexture;e.name="\u6e38\u620f\u622a\u56fe",e.initWithSize(cc.view.getVisibleSize().width,cc.view.getVisibleSize().height);var t=new cc.SpriteFrame;t.setTexture(e);var o=cc.find("Canvas/Camera").getComponent(cc.Camera);o.backgroundColor=cc.Color.TRANSPARENT,o.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR;var n=cc.game._renderContext;e.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),o.targetTexture=e,setTimeout(function(){e.addRef(),p.GameDataCenter.screenshot=t,setTimeout(function(){o.targetTexture=null},100)},.1)},s([_({type:cc.Label,tooltip:"\u5173\u5361\u6570"})],t.prototype,"levelName",void 0),s([_({type:cc.Label,tooltip:"\u6e38\u620f\u5012\u8ba1\u65f6"})],t.prototype,"countDownLab",void 0),s([_({type:cc.Node,tooltip:"\u6253\u94a9"})],t.prototype,"tickNode",void 0),s([_({type:cc.Node,tooltip:"\u63d0\u793a\u63d0\u793a"})],t.prototype,"tipsTip",void 0),s([_({type:cc.Node,tooltip:"\u8df3\u8fc7\u63d0\u793a"})],t.prototype,"skipTip",void 0),o=s([g],t)}(MonoUIPanel);a.GamePanel=b,cc._RF.pop()},{"../../ymtScripts/yomitoo/tools/PlatformAdManager":void 0}],Hedgehog:[function(e,t,o){"use strict";cc._RF.push(t,"36fdaCqFn9DS4Cs3sGDxJOV","Hedgehog");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Hedgehog=void 0;var s=r("Gconfig"),p=cc._decorator,l=p.ccclass,u=(p.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onAddEvents=function(){cc.systemEvent.on(s.GameEvents.M_Start_Game,this.startGame,this)},t.prototype.onRemoveEvents=function(){cc.systemEvent.off(s.GameEvents.M_Start_Game,this.startGame,this)},t.prototype.startGame=function(){this.node.getChildByName("skeleton").getComponent(sp.Skeleton).animation="idle2"},c([l],t)}(MonoBehavior));i.Hedgehog=u,cc._RF.pop()},{}],HoneyBeeMgr:[function(e,t,o){"use strict";cc._RF.push(t,"98aadqEY51KebdrWtk2q70K","HoneyBeeMgr");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.HoneyBeeMgr=void 0;var s=r("Gconfig"),p=r("HoneyBee"),l=r("LevelMgr"),u=cc._decorator,d=u.ccclass,y=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.honeyBeePrb=null,t}return a(t,e),t.prototype.onAddEvents=function(){this.registerEvent(s.GameEvents.M_Show_HonerBee,this.createHoneyBee,this)},t.prototype.createHoneyBee=function(){var e=this;cc.systemEvent.emit(s.GameEvents.S_Play_Sound,s.GameSounds.S_Bee,!0,!0);for(var t=0,o=0,n=0,r=0;r<8;r++)t+=.4,this.scheduleOnce(function(){var t=cc.instantiate(e.honeyBeePrb);t.getComponent(p.HoneyBee).id=o,++o>=l.LevelMgr.dogNodes.length&&(o=0),++n>=l.LevelMgr.honeyCombNodes.length&&(n=0),t.x=l.LevelMgr.honeyCombNodes[n].x,t.y=l.LevelMgr.honeyCombNodes[n].y,t.parent=e.node},t)},c([y({type:cc.Prefab,tooltip:"\u871c\u8702\u9884\u5236\u4f53",displayName:"\u871c\u8702\u9884\u5236\u4f53"})],t.prototype,"honeyBeePrb",void 0),c([d],t)}(MonoBehavior);i.HoneyBeeMgr=f,cc._RF.pop()},{}],HoneyBee:[function(e,t,o){"use strict";cc._RF.push(t,"41bceL8Kc1PB5CVJKtZPnqf","HoneyBee");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.HoneyBee=void 0;var s=r("Gconfig"),p=r("LevelMgr"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rigidBody=null,t.speed=null,t.startPosX=0,t.id=0,t}return a(t,e),t.prototype.onAddEvents=function(){this.registerEvent(s.GameEvents.M_Stop_HoneyBee_Move,this.stopMove,this)},t.prototype.onStart=function(){this.startPosX=this.node.x,this.rigidBody=this.node.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Dynamic,this.rigidBody.linearVelocity=cc.v2(0,0);var e=this.randomNumber(-200,-400),t=1;this.node.x<0&&(e=this.randomNumber(200,400),t=-1),this.node.scaleX=t,this.rigidBody.linearVelocity=cc.v2(e,this.randomNumber(e,100)),this.schedule(this.move,.3)},t.prototype.onBeginContact=function(e,t,o){if(this.rigidBody.linearVelocity=cc.v2(this.randomNumber(-300,500),this.randomNumber(-200,400)),1!=o.tag&&null!=this.speed){var n=o.node.getComponent(cc.RigidBody).getWorldCenter();o.node.getComponent(cc.RigidBody).applyForce(cc.v2(3e3,1e3),n,!0)}},t.prototype.stopMove=function(){this.unschedule(this.move),this.rigidBody.type=cc.RigidBodyType.Static},t.prototype.move=function(){var e=this.node.x-p.LevelMgr.dogNodes[this.id].x,t=this.node.y-p.LevelMgr.dogNodes[this.id].y,o=cc.v2(e,t),n=Math.atan2(o.y,o.x)/Math.PI*180;this.node.angle=n,this.startPosX<0&&(this.node.angle=n+180),this.speed=this.rigidBody.linearVelocity;var r=this.node.position,i=p.LevelMgr.dogNodes[this.id].x+this.randomNumber(-100,50)*Math.cos(this.angleToRadians(p.LevelMgr.dogNodes[this.id].angle)),a=p.LevelMgr.dogNodes[this.id].y+this.randomNumber(0,200)*Math.cos(this.angleToRadians(p.LevelMgr.dogNodes[this.id].angle)),c=cc.v2(i-r.x,a-r.y).normalize();this.speed=c.mul(500),this.rigidBody.linearVelocity=this.speed},t.prototype.angleToRadians=function(e){return e*Math.PI/180},t.prototype.randomNumber=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},c([u],t)}(MonoBehavior));i.HoneyBee=d,cc._RF.pop()},{}],HoneyComb:[function(e,t,o){"use strict";cc._RF.push(t,"3b8e1Z3AhdCV4yyn58uNdQy","HoneyComb");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.HoneyComb=void 0;var s=r("GameDataCenter"),p=cc._decorator,l=p.ccclass,u=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.physicsCollider=null,t.openColliderLevel=[],t}return a(t,e),t.prototype.onAddEvents=function(){},t.prototype.onRemoveEvents=function(){},t.prototype.onStart=function(){this.openColliderLevel=[3,29,89,120],-1!=this.openColliderLevel.indexOf(s.GameDataCenter.levelIndex)&&(this.physicsCollider.enabled=!0)},t.prototype.onDestroyed=function(){},c([u({type:cc.PhysicsPolygonCollider,tooltip:"\u7269\u7406\u78b0\u649e\u4f53"})],t.prototype,"physicsCollider",void 0),c([l],t)}(MonoBehavior);i.HoneyComb=d,cc._RF.pop()},{}],LevelMgr:[function(e,t,o){"use strict";cc._RF.push(t,"4d51aQdNodKyqRb1Vmy1JeM","LevelMgr");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.LevelMgr=void 0;var s=r("GameDataCenter"),p=r("GGAnalysis"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unableDrawNames=[],t}var o;return a(t,e),o=t,t.prototype.onAddEvents=function(){},t.prototype.onRemoveEvents=function(){},t.prototype.onStart=function(){this.initLevel(),this.loadNextLevelPrefab(),this.initLevelConfig(),s.GameDataCenter.tipsSprite=null,cc.assetManager.loadBundle("tips",function(e,t){e?window.alert("\u52a0\u8f7d\u52a8\u6001\u8d44\u6e90\u5305\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5 \u52a8\u6001\u8d44\u6e90\u5305\u540d\u79f0 \u53c2\u6570\u8bbe\u7f6e!"):t.load("tips_img_level"+s.GameDataCenter.levelIndex,cc.SpriteFrame,function(t,o){e?window.alert("\u52a0\u8f7d\u6587\u4ef6\u5939\u8d44\u6e90\u6587\u4ef6\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5 \u6587\u4ef6\u5939\u8def\u5f84\u540d\u79f0 \u53c2\u6570\u8bbe\u7f6e!"):s.GameDataCenter.tipsSprite=o})})},t.prototype.onDestroyed=function(){},t.prototype.initLevel=function(){var e="level"+s.GameDataCenter.levelIndex;s.GameDataCenter.levelPrefabs[e]&&(cc.instantiate(s.GameDataCenter.levelPrefabs[e]).parent=this.node),p.GGAnalysis.sendStageStartEvent(s.GameDataCenter.levelIndex)},t.prototype.loadNextLevelPrefab=function(){s.GameDataCenter.levelPrefabs["level"+(s.GameDataCenter.levelIndex+1)]||cc.assetManager.loadBundle("level",function(e,t){if(e)return console.log("\u52a0\u8f7dlevel bundle \u5931\u8d25:",e);t.load("prefab/levels/level"+(s.GameDataCenter.levelIndex+1),cc.Prefab,function(e,t){t&&(s.GameDataCenter.levelPrefabs[t.name]=t)})})},t.prototype.initLevelConfig=function(){var e="level"+s.GameDataCenter.levelIndex;o.curLevelNode=this.node.getChildByName(e),console.log("name",e);var t=this.node.getChildByName(e).children;this.unableDrawNames=["dogHead","honeyComb","meadow","meadowBevel","oblongClod","roundClod","forbiddenBlock","triangleClod","rightTriangleClod","irregularClod","hedgehog","bomb","shot","coneNail","femaleDog","tree","branch"],o.unableDrawNodes=[];for(var n=0;n<t.length;n++)-1!=this.unableDrawNames.indexOf(t[n].name)&&o.unableDrawNodes.push(t[n]);for(o.dogNodes=[],o.honeyCombNodes=[],n=0;n<t.length;n++)"dogHead"===t[n].name&&o.dogNodes.push(t[n]),"honeyComb"===t[n].name&&o.honeyCombNodes.push(t[n])},t.curLevelNode=null,t.dogNodes=[],t.unableDrawNodes=[],t.honeyCombNodes=[],o=c([u],t)}(MonoBehavior));i.LevelMgr=d,cc._RF.pop()},{}],SkipPanel:[function(e,t,o){"use strict";cc._RF.push(t,"e2e51L2EkRPFJuNi/ZIBPn0","SkipPanel");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.SkipPanel=void 0;var s=r("UIMgr"),p=r("GameDataCenter"),l=r("Gconfig"),u=r("GGI18nManager"),d=r("UIManager"),y=cc._decorator,f=y.ccclass,h=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mask=null,t.panel=null,t.tipsContent=null,t}return a(t,e),t.prototype.onEnabled=function(){this.tipsContent.string=u.GGI18nManager.getInstance().getString("\u8df3\u8fc7\u6b64\u5173\u9700\u89812\u4e2a\u94a5\u5319,\u662f\u5426\u8df3\u8fc7\uff1f"),s.UIMgr.setShowAnimation(this.panel,this.mask)},t.prototype.onDisabled=function(){cc.director.getPhysicsManager().enabled=!0},t.prototype.onAddEvents=function(){},t.prototype.onRemoveEvents=function(){},t.prototype.onStart=function(){},t.prototype.onDestroyed=function(){},t.prototype.onClickDetermineBtn=function(){cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Btn_Click),p.GameDataCenter.key-=2,d.UIManager.close("game/SkipPanel",!0),cc.systemEvent.emit(l.GameEvents.M_Game_Over,!0,!0)},t.prototype.onClickBackBtn=function(){cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Btn_Click),p.GameDataCenter.isStopCountDown=!1,d.UIManager.close("game/SkipPanel",!0)},c([h({type:cc.Node,tooltip:"\u906e\u7f69"})],t.prototype,"mask",void 0),c([h({type:cc.Node,tooltip:"\u9762\u677f"})],t.prototype,"panel",void 0),c([h({type:cc.Label,tooltip:"\u63d0\u793a\u5185\u5bb9"})],t.prototype,"tipsContent",void 0),c([f],t)}(MonoUIPanel);i.SkipPanel=v,cc._RF.pop()},{}],Spider:[function(e,t,o){"use strict";cc._RF.push(t,"d2823RkpaJJAa1BlcPH1yep","Spider");var n,r=o,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(r,"__esModule",{value:!0}),r.Spider=void 0;var c=cc._decorator,s=c.ccclass,p=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.line=null,t.spider=null,t.isBegin=!1,t.otherRigid=null,t}return i(t,e),t.prototype.onAddEvents=function(){},t.prototype.onRemoveEvents=function(){},t.prototype.onStart=function(){var e=this;this.scheduleOnce(function(){e.spider.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-200),e.isBegin=!0},1)},t.prototype.onUpdate=function(){this.isBegin&&(this.spider.y<=0?this.line.height=100+Math.abs(this.spider.y):(this.spider.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.otherRigid.linearVelocity=cc.v2(0,0),this.otherRigid.type=cc.RigidBodyType.Static,this.isBegin=!1))},t.prototype.onDestroyed=function(){},t.prototype.onBeginContact=function(e,t,o){var n=e.getWorldManifold().points,r=this.spider.parent.getComponent(cc.RevoluteJoint),i=o.node.convertToNodeSpaceAR(n[0]);this.node.convertToNodeSpaceAR;var a=i.x,c=i.y,s=o.node.getComponent(cc.RigidBody),p=(a-o.node.x)/o.node.width/o.node.scaleX,l=(c-o.node.y)/o.node.height/o.node.scaleY,u=cc.v2(p+this.node.anchorX,l+this.node.anchorY);o.node.setAnchorPoint(u),r.connectedBody=s,r.apply(),s.linearVelocity=cc.v2(0,0),this.otherRigid=s,this.spider.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,200)},a([p({type:cc.Node,tooltip:"\u8718\u86db\u7ebf"})],t.prototype,"line",void 0),a([p({type:cc.Node,tooltip:"\u8718\u86db\u8282\u70b9"})],t.prototype,"spider",void 0),a([s],t)}(MonoBehavior);r.Spider=l,cc._RF.pop()},{}],TipsPanel:[function(e,t,o){"use strict";cc._RF.push(t,"c3c7dhsv3tJlKNZqbzYh7Qn","TipsPanel");var n,r=e,i=o,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.TipsPanel=void 0;var s=r("UIMgr"),p=r("GameDataCenter"),l=r("Gconfig"),u=r("GGAnalysis"),d=r("UIManager"),y=cc._decorator,f=y.ccclass,h=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mask=null,t.panel=null,t.tipsSprite=null,t}return a(t,e),t.prototype.onEnabled=function(){u.GGAnalysis.sendUserEvent("\u8fdb\u5165\u5173\u5361\u63d0\u793a\u9875"),s.UIMgr.setShowAnimation(this.panel,this.mask)},t.prototype.onDisabled=function(){cc.director.getPhysicsManager().enabled=!0},t.prototype.onAddEvents=function(){},t.prototype.onRemoveEvents=function(){},t.prototype.onStart=function(){p.GameDataCenter.tipsSprite?this.tipsSprite.spriteFrame=p.GameDataCenter.tipsSprite:this.onGetSpriteFreamIndex(p.GameDataCenter.levelIndex),-1==p.GameDataCenter.unlockTips.indexOf(p.GameDataCenter.levelIndex)&&(p.GameDataCenter.unlockTips.push(p.GameDataCenter.levelIndex),p.GameDataCenter.unlockTips=p.GameDataCenter.unlockTips)},t.prototype.onDestroyed=function(){},t.prototype.onClickdetermineBtn=function(){u.GGAnalysis.sendUITouchEvent("\u5173\u5361\u63d0\u793a_\u786e\u5b9a"),cc.systemEvent.emit(l.GameEvents.S_Play_Sound,l.GameSounds.S_Btn_Click),p.GameDataCenter.isStopCountDown=!1,d.UIManager.close("game/TipsPanel",!0)},t.prototype.onGetSpriteFreamIndex=function(e){var t=this;cc.assetManager.loadBundle("tips",function(o,n){o?window.alert("\u52a0\u8f7d\u52a8\u6001\u8d44\u6e90\u5305\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5 \u52a8\u6001\u8d44\u6e90\u5305\u540d\u79f0 \u53c2\u6570\u8bbe\u7f6e!"):n.load("tips_img_level"+e,cc.SpriteFrame,function(e,n){o?window.alert("\u52a0\u8f7d\u6587\u4ef6\u5939\u8d44\u6e90\u6587\u4ef6\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5 \u6587\u4ef6\u5939\u8def\u5f84\u540d\u79f0 \u53c2\u6570\u8bbe\u7f6e!"):(p.GameDataCenter.tipsSprite=n,t.tipsSprite.spriteFrame=n)})})},c([h({type:cc.Node,tooltip:"\u906e\u7f69"})],t.prototype,"mask",void 0),c([h({type:cc.Node,tooltip:"\u9762\u677f"})],t.prototype,"panel",void 0),c([h({type:cc.Sprite,tooltip:"\u63d0\u793a\u56fe\u7247"})],t.prototype,"tipsSprite",void 0),c([f],t)}(MonoUIPanel);i.TipsPanel=v,cc._RF.pop()},{}],Water:[function(e,t,o){"use strict";cc._RF.push(t,"7262f3iC/BEkYzSeqwLbIl5","Water");var n,r=o,i=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(r,"__esModule",{value:!0}),r.Water=void 0;var c=cc._decorator,s=c.ccclass,p=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.density=.3,t.angularDrag=1,t.linearDrag=1,t.inFluid=[],t.gravity=null,t.fluidBody=null,t.ignoreTarget=[],t}return i(t,e),t.prototype.onLoad=function(){this.gravity=cc.v2(cc.director.getPhysicsManager().gravity.x,cc.director.getPhysicsManager().gravity.y+5),this.ignoreTarget=["line"]},t.prototype.start=function(){this.createFluid()},t.prototype.update=function(){for(var e=0,t=this.inFluid.length;e<t;e++)this.applyBuoyancy(this.inFluid[e])},t.prototype.createFluid=function(){var e=this.node.getComponent(cc.RigidBody),t=this.node.getComponent(cc.PhysicsPolygonCollider);t.sensor=!0,t.density=this.density,t.apply(),this.fluidBody=e._b2Body},t.prototype.findIntersectionAreaAndCentroid=function(e){var t=e.m_fixtureList;if(t&&2===t.GetType()){for(var o=cc.v2(0,0),n=0,r=0;t;){for(var i=this.getVertices(this.fluidBody),a=this.getVertices(e),c=a[a.length-1],s=0;s<a.length;s++){var p=a[s],l=i;i=[];for(var u=l[l.length-1],d=0;d<l.length;d++){var y=l[d];this.inside(c,p,y)?(this.inside(c,p,u)||i.push(this.intersection(c,p,u,y)),i.push(y)):this.inside(c,p,u)&&i.push(this.intersection(c,p,u,y)),u=y}c=p}var f=this.computeAC(i),h=t.GetDensity();r+=f[0]*h,n+=f[0],o.x+=f[1].x*h,o.y+=f[1].y*h,t=t.GetNext()}return o.mulSelf(1/r),[n,o]}},t.prototype.onBeginContact=function(e,t,o){if(this.ignoreTarget.includes(o.node.name)){console.log(" huangyiyi  ===> ",o.name,o.node.name);var n=o.body._b2Body;this.inFluid.push(n),e.disabled=!0}},t.prototype.onEndContact=function(e,t,o){if(this.ignoreTarget.includes(o.node.name)){var n=o.body._b2Body,r=this.inFluid.indexOf(n);this.inFluid.splice(r,1),e.disabled=!0}},t.prototype.applyBuoyancy=function(e){var t=this.findIntersectionAreaAndCentroid(e);if(0!==t[0]){var o=t[0]*this.density,n=t[1],r=cc.v2(o*this.gravity.x,o*this.gravity.y);e.ApplyForce(r,n);var i=cc.v2(),a=cc.v2();e.GetLinearVelocityFromWorldPoint(n,i),this.fluidBody.GetLinearVelocityFromWorldPoint(n,a);var c=i.sub(a),s=this.density*this.linearDrag*o,p=c.mul(-s);e.ApplyForce(p,n);var l=-e.GetInertia()/e.GetMass()*o*e.GetAngularVelocity()*this.angularDrag;e.ApplyTorque(l)}},t.prototype.getVertices=function(e){for(var t=e.m_fixtureList.m_shape,o=[],n=0;n<t.m_count;n++){var r=cc.v2(t.m_vertices[n].x,t.m_vertices[n].y),i=cc.v2();e.GetWorldPoint(r,i),o.push(i)}return o},t.prototype.inside=function(e,t,o){return(t.x-e.x)*(o.y-e.y)>(t.y-e.y)*(o.x-e.x)},t.prototype.intersection=function(e,t,o,n){var r=cc.v2(e.x-t.x,e.y-t.y),i=cc.v2(o.x-n.x,o.y-n.y),a=e.x*t.y-e.y*t.x,c=o.x*n.y-o.y*n.x,s=r.x*i.y-r.y*i.x;return cc.v2((a*i.x-c*r.x)/s,(a*i.y-c*r.y)/s)},t.prototype.computeAC=function(e){for(var t=e.length,o=cc.v2(0,0),n=0,r=0;r<t;++r){var i=e[r],a=r+1<t?e[r+1]:e[0],c=i.x-0,s=i.y-0,p=a.x-0,l=.5*(c*(a.y-0)-s*p);n+=l,o.x+=l*(1/3)*(0+i.x+a.x),o.y+=l*(1/3)*(0+i.y+a.y)}return[n,o]},a([p({tooltip:"\u5bc6\u5ea6"})],t.prototype,"density",void 0),a([p({tooltip:"\u89d2\u901f\u5ea6\u963b\u529b"})],t.prototype,"angularDrag",void 0),a([p({tooltip:"\u7ebf\u901f\u5ea6\u963b\u529b"})],t.prototype,"linearDrag",void 0),a([s],t)}(MonoBehavior);r.Water=l,cc._RF.pop()},{}]},{},["Bomb","Bone","DogHead","DrawGraphics","FemaleDog","Flagstone","ForbiddenBlock","GamePanel","Hedgehog","HoneyBee","HoneyBeeMgr","HoneyComb","LevelMgr","SkipPanel","Spider","TipsPanel","Water"]);