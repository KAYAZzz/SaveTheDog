if(console.log("[TS-API] ===>>>","Load class ADBase."),window.gg=window.gg||{},cc.sys.isNative){class a{constructor(l,t){this.data=t||{},this.data.extData=`CLSID_${l}_${Date.now()}${Math.floor(1e4*Math.random())}`,this.data.adType=l,this.loadCallbacks=[],this.errorCallbacks=[],this.closeCallbacks=[],this.clickCallbacks=[],this.promiseLoadCallbacks={},this.promiseShowCallbacks={},this.initData&&this.initData(),gg.jsb.emitEventAD({adEventType:"CREATE",...this.data}),a.ad[this.data.extData]=this}load(){return new Promise((a,l)=>{const t=`load_${this.data.extData}`;this.promiseLoadCallbacks[t]=(s,e)=>{if(this.promiseLoadCallbacks[t]=void 0,s)return l(s);a(e)},gg.jsb.emitEventAD({adEventType:"LOAD",...this.data})})}show(){return gg.log(`===>>>\u663e\u793a${this.data.adType}\u5e7f\u544a`),new Promise((a,l)=>{const t=`show_${this.data.extData}`;this.promiseShowCallbacks[t]=(s,e)=>{if(this.promiseShowCallbacks[t]=void 0,s)return l(s);a(e)},gg.jsb.emitEventAD({adEventType:"SHOW",...this.data})})}destroy(){a.ad[this.data.extData]=void 0,gg.log("\u539f\u751f\u89c6\u9891\u4e0d\u505a\u9500\u6bc1")}onLoad(a){this.loadCallbacks.push(a)}offLoad(a){-1!==this.loadCallbacks.indexOf(a)&&this.loadCallbacks.splice(i,1)}onError(a){this.errorCallbacks.push(a)}offError(a){-1!==this.errorCallbacks.indexOf(a)&&this.errorCallbacks.splice(i,1)}onClose(a){this.closeCallbacks.push(a)}offClose(a){-1!==this.closeCallbacks.indexOf(a)&&this.closeCallbacks.splice(i,1)}onClick(a){this.clickCallbacks.push(a)}offClick(a){-1!==this.clickCallbacks.indexOf(a)&&this.clickCallbacks.splice(i,1)}static onCreatedCallback(a){gg.log("onCreatedCallback",a)}static onShowedCallback(l){if(gg.log("onShowedCallback",l),!(l=gg.parseJSON(l))||!l.extData)return;const t=a.ad[l.extData];for(let a in t.promiseShowCallbacks)t.promiseShowCallbacks[a]&&t.promiseShowCallbacks[a](null,l)}static onShowFailedCallback(l){if(gg.log("onShowFailedCallback",l),!(l=gg.parseJSON(l))||!l.extData)return;const t=a.ad[l.extData];for(let a in t.promiseShowCallbacks)t.promiseShowCallbacks[a]&&t.promiseShowCallbacks[a](l)}static onPlayVideoFailedCallback(l){if(gg.log("onPlayVideoFailedCallback",l),!(l=gg.parseJSON(l))||!l.extData)return;const t=a.ad[l.extData];for(let a in t.promiseShowCallbacks)t.promiseShowCallbacks[a]&&t.promiseShowCallbacks[a](l)}static onPlayVideoStartedCallback(l){if(gg.log("onPlayVideoStartedCallback",l),!(l=gg.parseJSON(l))||!l.extData)return;const t=a.ad[l.extData];for(let a in t.promiseShowCallbacks)t.promiseShowCallbacks[a]&&t.promiseShowCallbacks[a](null,l)}static onPlayEndedCallback(a){gg.log("onPlayEndedCallback",a)}static onRewardedCallback(a){gg.log("onRewardedCallback",a)}static onLoadedCallback(l){if(gg.log("onLoadedCallback",l),(l=gg.parseJSON(l))&&l.extData){var t=a.ad[l.extData];for(let a in t.promiseLoadCallbacks)t.promiseLoadCallbacks[a]&&t.promiseLoadCallbacks[a](null,l);for(let a=0;a<t.loadCallbacks.length;a++)t.loadCallbacks[a]()}}static onLoadFailedCallback(l){if(gg.log("onLoadFailedCallback",l),!(l=gg.parseJSON(l))||!l.extData)return;const t=a.ad[l.extData];for(let a in t.promiseLoadCallbacks)t.promiseLoadCallbacks[a](l);a.onErrorCallback(l)}static onClosedCallback(l){if(gg.log("onClosedCallback",l),(l=gg.parseJSON(l))&&l.extData){var t=a.ad[l.extData],s={isEnded:l.isEnded};for(let a=0;a<t.closeCallbacks.length;a++)t.closeCallbacks[a](s)}}static onClickedCallback(l){if(gg.log("onClickedCallback",l),(l=gg.parseJSON(l))&&l.extData){var t=a.ad[l.extData],s={isEnded:l.isEnded};for(let a=0;a<t.clickCallbacks.length;a++)t.clickCallbacks[a](s)}}static onErrorCallback(l){if(gg.log("onErrorCallback",l),(l=gg.parseJSON(l))&&l.extData){var t=a.ad[l.extData],s={errMsg:l.errMsg||"\u539f\u751f\u5c42\u8fd4\u56de\u9519\u8bef",errCode:l.errCode||1003};for(let a=0;a<t.errorCallbacks.length;a++)t.errorCallbacks[a](s)}}}a.ad={},window.ADBase=a;class l extends a{constructor(a){super("REWARDED",a)}}class t extends a{constructor(a){super("INTERSTITIAL",a)}}class s extends a{constructor(a){super("BANNER",a)}initData(){this.data.style=this.data.style||{},this.data.bannerStyle=this.data.style,this.loadTime=Math.floor(Date.now()/1e3)}load(){Math.floor(Date.now()/1e3)-(this.loadTime||0)<11||(this.loadTime=Math.floor(Date.now()/1e3),gg.jsb.emitEventAD({adEventType:"LOAD",...this.data}))}hide(){gg.log("=====>>>\u9690\u85cfBannerAd\u5e7f\u544a"),gg.jsb.emitEventAD({adEventType:"HIDE",...this.data})}destroy(){a.ad[this.data.extData]=void 0,gg.jsb.emitEventAD({adEventType:"DESTROY",...this.data})}}window.RewardedVideoAd=l,window.InterstitialAd=t,window.BannerAd=s}