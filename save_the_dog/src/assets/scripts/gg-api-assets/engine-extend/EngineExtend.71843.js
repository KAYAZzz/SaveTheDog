if(cc.Node.prototype.getChildByNameEx=function(e){return this.__childCaches=this.__childCaches||{},this.__childCaches[e]&&this.__childCaches[e].getChildByName?this.__childCaches[e]:(this.__childCaches[e]=this.getChildByName(e),this.__childCaches[e])},cc.Node.prototype.getComponentEx=function(e){this.__componentCaches=this.__componentCaches||{};const t=e.name||e||"";return this.__componentCaches[t]&&this.__componentCaches[t].destroy?this.__componentCaches[t]:(this.__componentCaches[t]=this.getComponent(e),this.__componentCaches[t])},cc.Label.prototype._isSystemFontUsed=!1,gg.isNative){const e=/^\w+:\/\/.*/,t=cc.assetManager.loadBundle.bind(cc.assetManager);cc.assetManager.loadBundle=(o,c,s,n)=>{if("function"!=typeof c||s||(s=c,c={}),gg.isNative){const e=`${cc.assetManager.cacheManager.cacheDir}/${o}`;if(!n&&(c.version?jsb.fileUtils.isFileExist(`${e}/config.${c.version}.json`):jsb.fileUtils.isDirectoryExist(e))){const e=`${cc.sys.localStorage.getItem("remoteBundleHost")||"remote"}/${o}`.replace(/cocos-bundle\/[0-9|.]*\/remote\//,"cocos-bundle/cur_version/remote/");return gg.log("first load remote bundle:",e),t(e,c,(e,t)=>{if(e)return cc.assetManager.loadBundle(o,c,s,!0);gg.log("load bundle successed:",o,t.base),s&&s(null,t)})}}try{return gg.log("load local bundle:",o),t(o,c,(n,r)=>{if(n){if(e.test(o))return gg.warn("load bundle callback error:",o),s&&s(n);{const e=`${cc.sys.localStorage.getItem("remoteBundleHost")||"remote"}/${o}`.replace(/cocos-bundle\/[0-9|.]*\/remote\//,"cocos-bundle/cur_version/remote/");return gg.warn("load remote bundle:",e),t(e,c,s)}}gg.log("load bundle successed:",o,r.base),s&&s(null,r)})}catch(n){if(!e.test(o)){const e=`${cc.sys.localStorage.getItem("remoteBundleHost")||"remote"}/${o}`.replace(/cocos-bundle\/[0-9|.]*\/remote\//,"cocos-bundle/cur_version/remote/");return gg.log("load remote bundle:",e),t(e,c,s)}gg.warn("load bundle failed:",o,gg.stringifyJSON(n)),s&&s(n)}}}String.prototype.format=function(e){var t=this;if(arguments.length>0)if(1==arguments.length&&"object"==typeof e){for(var o in e)if(null!=e[o]){var c=new RegExp("(\\{"+o+"\\})","g");t=t.replace(c,e[o])}}else for(var s=0;s<arguments.length;s++){var n=new RegExp("\\{"+s+"\\}","g");t=t.replace(n,arguments[s])}return t};